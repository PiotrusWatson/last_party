[gd_scene load_steps=20 format=4 uid="uid://c4uyb55a4rjwc"]

[ext_resource type="Script" path="res://worlds/level_signals.gd" id="1_d6a5b"]
[ext_resource type="PackedScene" uid="uid://bovapflawkyh" path="res://prefabs/player/player.tscn" id="1_xf4hq"]
[ext_resource type="Script" path="res://worlds/follow_thing.gd" id="2_hmd5b"]
[ext_resource type="Texture2D" uid="uid://dpneqkfqk5mvj" path="res://sprites/Background/BG_Placeholder.png" id="3_crhye"]
[ext_resource type="PackedScene" uid="uid://bycx0utujr7qt" path="res://prefabs/partygoer/partygoer.tscn" id="4_r475v"]
[ext_resource type="PackedScene" path="res://prefabs/partygoer/partygoer_dog.tscn" id="5_m13ws"]
[ext_resource type="Texture2D" uid="uid://b10repbx682cb" path="res://sprites/Background/tilesheet1.png" id="5_xc60l"]
[ext_resource type="Texture2D" uid="uid://l3ixci0mdpp2" path="res://icon.svg" id="7_5p2nu"]
[ext_resource type="Texture2D" uid="uid://wdilcwlyp1c1" path="res://sprites/placeholder/Debugempty.png" id="7_pb6ad"]
[ext_resource type="Script" path="res://worlds/anxiety_bar.gd" id="9_xhapp"]
[ext_resource type="Script" path="res://prefabs/god.gd" id="10_gu7p8"]
[ext_resource type="Script" path="res://UI/clock.gd" id="10_wims2"]
[ext_resource type="AudioStream" uid="uid://cxyppxjbem1rn" path="res://Audio/sussy beat.mp3" id="12_4u0ni"]
[ext_resource type="Texture2D" uid="uid://bfnbjtkawrcho" path="res://sprites/Props/Jukebox.png" id="13_h3m4t"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_mxbmk"]
texture = ExtResource("5_xc60l")
texture_region_size = Vector2i(32, 32)
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
5:0/0 = 0
6:0/0 = 0
8:0/0 = 0
9:0/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
5:1/0 = 0
6:1/0 = 0
8:1/0 = 0
9:1/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
5:2/0 = 0
6:2/0 = 0
8:2/0 = 0
9:2/0 = 0
1:3/0 = 0
5:3/0 = 0
6:3/0 = 0
9:3/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
1:5/0 = 0

[sub_resource type="TileSet" id="TileSet_b871j"]
tile_size = Vector2i(32, 32)
sources/0 = SubResource("TileSetAtlasSource_mxbmk")

[sub_resource type="SpriteFrames" id="SpriteFrames_amkaw"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_h3m4t")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mv0lo"]
size = Vector2(23, 32)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_p8yn1"]
radius = 11.0

[node name="PiotrusScene" type="Node2D"]
script = ExtResource("1_d6a5b")

[node name="Player" parent="." instance=ExtResource("1_xf4hq")]
position = Vector2(-75, -30)
gravity_scale = 0.0

[node name="MainCamera" type="Camera2D" parent="." node_paths=PackedStringArray("thing_to_follow")]
zoom = Vector2(3, 3)
script = ExtResource("2_hmd5b")
thing_to_follow = NodePath("../Player")

[node name="BGBlack" type="Sprite2D" parent="."]
visible = false
modulate = Color(0, 0, 0, 1)
z_index = -2
texture_filter = 1
position = Vector2(4, 1)
scale = Vector2(12.7297, 25.8596)
texture = ExtResource("3_crhye")

[node name="TileMapLayer_Walls" type="TileMapLayer" parent="."]
z_index = -1
texture_filter = 1
tile_map_data = PackedByteArray("AAD8/wAAAAAFAAIAAAD9/wAAAAAGAAIAAAD+/wAAAAAFAAIAAAD//wAAAAAGAAIAAAAAAAAAAAAFAAIAAAABAAAAAAAGAAIAAAACAAAAAAAFAAIAAAADAAAAAAAGAAIAAAAEAAAAAAAFAAIAAAAFAAAAAAAGAAIAAAAGAAAAAAAFAAIAAAAHAAAAAAAGAAIAAAAHAP//AAAGAAEAAAD5////AAAGAAEAAAD7////AAAGAAEAAAD8////AAAFAAEAAAD9////AAAGAAEAAAD+////AAAFAAEAAAD/////AAAGAAEAAAAAAP//AAAFAAEAAAABAP//AAAGAAEAAAACAP//AAAFAAEAAAADAP//AAAGAAEAAAAEAP//AAAFAAEAAAAFAP//AAAGAAEAAAAGAP//AAAFAAEAAAAGAP7/AAAGAAEAAAAFAP7/AAAFAAEAAAAEAP7/AAAGAAEAAAADAP7/AAAFAAEAAAACAP7/AAAGAAEAAAABAP7/AAAFAAEAAAAAAP7/AAAGAAEAAAD///7/AAAFAAEAAAD+//7/AAAGAAEAAAD9//7/AAAFAAEAAAD8//7/AAAGAAEAAAD7//7/AAAFAAEAAAD5//7/AAAFAAEAAAD4//7/AAAGAAEAAAAHAP7/AAAFAAEAAAD4//3/AAAGAAEAAAAHAP3/AAAFAAEAAAD5//3/AAAFAAEAAAD6//3/AAAGAAEAAAD7//3/AAAFAAEAAAD8//3/AAAGAAEAAAD9//3/AAAFAAEAAAD+//3/AAAGAAEAAAD///3/AAAFAAEAAAAAAP3/AAAGAAEAAAABAP3/AAAFAAEAAAACAP3/AAAGAAEAAAADAP3/AAAFAAEAAAAEAP3/AAAGAAEAAAAFAP3/AAAFAAEAAAAGAP3/AAAGAAEAAAD3/wAAAAAFAAIAAAD4/wAAAAAFAAIAAAD5/wAAAAAGAAIAAAD6/wAAAAAFAAIAAAD7/wAAAAAGAAIAAAAIAAAAAAAFAAIAAAAIAP//AAAFAAEAAAAIAP7/AAAGAAEAAAAIAP3/AAAGAAEAAAD3////AAAFAAEAAAD3//7/AAAFAAEAAAD3//3/AAAFAAEAAAD4////AAAFAAEAAAD6////AAAFAAEAAAD6//7/AAAGAAEAAAD5//v/AAAFAAEAAAD5//z/AAAFAAEAAAD6//v/AAAGAAEAAAD6//z/AAAGAAEAAAD3//z/AAAFAAEAAAD4//z/AAAGAAEAAAD3//v/AAAFAAEAAAD4//v/AAAGAAEAAAD7//z/AAAFAAEAAAD8//z/AAAGAAEAAAD9//z/AAAFAAEAAAD+//z/AAAGAAEAAAD///z/AAAFAAEAAAAAAPz/AAAGAAEAAAABAPz/AAAFAAEAAAACAPz/AAAGAAEAAAADAPz/AAAFAAEAAAAEAPz/AAAGAAEAAAAFAPz/AAAFAAEAAAAGAPz/AAAGAAEAAAAHAPz/AAAFAAEAAAAIAPz/AAAGAAEAAAAHAPv/AAAFAAEAAAAIAPv/AAAGAAEAAAAFAPv/AAAFAAEAAAAGAPv/AAAGAAEAAAAFAPr/AAAFAAEAAAAGAPr/AAAGAAEAAAADAPr/AAAFAAEAAAAEAPr/AAAGAAEAAAABAPr/AAAFAAEAAAACAPr/AAAGAAEAAAD///r/AAAFAAEAAAAAAPr/AAAGAAEAAAD9//r/AAAFAAEAAAD+//r/AAAGAAEAAAD7//r/AAAFAAEAAAD8//r/AAAGAAEAAAD5//r/AAAFAAEAAAD6//r/AAAGAAEAAAD3//r/AAAFAAEAAAD4//r/AAAGAAEAAAD7//v/AAAFAAEAAAD8//v/AAAGAAEAAAD9//v/AAAFAAEAAAD+//v/AAAGAAEAAAD///v/AAAFAAEAAAAAAPv/AAAGAAEAAAABAPv/AAAFAAEAAAACAPv/AAAGAAEAAAADAPv/AAAFAAEAAAAEAPv/AAAGAAEAAAAHAPr/AAAFAAEAAAAIAPr/AAAGAAEAAAA=")
tile_set = SubResource("TileSet_b871j")

[node name="TileMapLayer_Floor" type="TileMapLayer" parent="."]
z_index = -1
texture_filter = 1
tile_map_data = PackedByteArray("AAD7/wEAAAACAAAAAAD7/wIAAAACAAEAAAD8/wEAAAACAAAAAAD8/wIAAAACAAEAAAD9/wEAAAACAAAAAAD9/wIAAAACAAEAAAD+/wEAAAACAAAAAAD+/wIAAAACAAEAAAD//wEAAAACAAAAAAD//wIAAAACAAEAAAAAAAEAAAACAAAAAAAAAAIAAAACAAEAAAABAAEAAAACAAAAAAABAAIAAAACAAEAAAACAAEAAAACAAAAAAACAAIAAAACAAEAAAADAAEAAAACAAAAAAADAAIAAAACAAEAAAAEAAEAAAACAAAAAAAEAAIAAAACAAEAAAAFAAEAAAACAAAAAAAFAAIAAAACAAEAAAAGAAEAAAACAAAAAAAGAAIAAAACAAEAAAAHAAEAAAACAAAAAAAHAAIAAAACAAEAAAAIAAEAAAADAAAAAAAIAAIAAAADAAEAAAD5/wEAAAACAAAAAAD5/wIAAAACAAEAAAD6/wEAAAACAAAAAAD6/wIAAAACAAEAAAD3/wEAAAABAAAAAAD3/wIAAAABAAEAAAD4/wEAAAACAAAAAAD4/wIAAAACAAEAAAD3/wMAAAACAAAAAAD4/wMAAAACAAAAAAD5/wMAAAACAAAAAAD6/wMAAAACAAAAAAD7/wMAAAACAAAAAAD8/wMAAAACAAAAAAD9/wMAAAACAAAAAAD+/wMAAAACAAAAAAD//wMAAAACAAAAAAAAAAMAAAACAAAAAAABAAMAAAACAAAAAAACAAMAAAACAAAAAAADAAMAAAACAAAAAAAEAAMAAAACAAAAAAAFAAMAAAACAAAAAAAGAAMAAAACAAAAAAAHAAMAAAACAAAAAAAIAAMAAAACAAAAAAAHAAQAAAACAAAAAAAIAAQAAAACAAAAAAAFAAQAAAACAAAAAAAGAAQAAAACAAAAAAADAAQAAAACAAAAAAAEAAQAAAACAAAAAAABAAQAAAACAAAAAAACAAQAAAACAAAAAAD//wQAAAACAAAAAAAAAAQAAAACAAAAAAD9/wQAAAACAAAAAAD+/wQAAAACAAAAAAD7/wQAAAACAAAAAAD8/wQAAAACAAAAAAD5/wQAAAACAAAAAAD6/wQAAAACAAAAAAD3/wQAAAACAAAAAAD4/wQAAAACAAAAAAD3/wUAAAACAAEAAAD4/wUAAAACAAEAAAD5/wUAAAACAAEAAAD6/wUAAAACAAEAAAD7/wUAAAACAAEAAAD8/wUAAAACAAEAAAD9/wUAAAACAAEAAAD+/wUAAAACAAEAAAD//wUAAAACAAEAAAAAAAUAAAACAAEAAAABAAUAAAACAAEAAAACAAUAAAACAAEAAAADAAUAAAACAAEAAAAEAAUAAAACAAEAAAAFAAUAAAACAAEAAAAGAAUAAAACAAEAAAAHAAUAAAACAAEAAAAIAAUAAAACAAEAAAADAP//AAAFAAMAAAAEAP//AAAGAAMAAAA=")
tile_set = SubResource("TileSet_b871j")

[node name="TileMapLayer_Stuff" type="TileMapLayer" parent="."]
z_index = -1
texture_filter = 1
tile_map_data = PackedByteArray("AAD3//3/AAAHAAQAAAD4//3/AAAIAAQAAAD5//3/AAAHAAQAAAD6//3/AAAIAAQAAAD7//3/AAAHAAQAAAD8//3/AAAIAAQAAAD9//3/AAAHAAQAAAD+//3/AAAIAAQAAAD///3/AAAHAAQAAAAAAP3/AAAIAAQAAAABAP3/AAAHAAQAAAACAP3/AAAIAAQAAAADAP3/AAAHAAQAAAAEAP3/AAAIAAQAAAAFAP3/AAAHAAQAAAAGAP3/AAAIAAQAAAAHAP3/AAAHAAQAAAAIAP3/AAAIAAQAAAA=")
tile_set = SubResource("TileSet_b871j")

[node name="Partygoer" parent="." instance=ExtResource("4_r475v")]
position = Vector2(100, 0)

[node name="Partygoer2" parent="." instance=ExtResource("5_m13ws")]
position = Vector2(-33, 6)

[node name="WorldColliders" type="StaticBody2D" parent="."]

[node name="Radio" type="Node2D" parent="."]
z_index = -1
position = Vector2(-29, 6)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Radio"]
position = Vector2(-75, 0)
stream = ExtResource("12_4u0ni")
autoplay = true
max_distance = 100.0
parameters/looping = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Radio"]
texture_filter = 3
position = Vector2(-75, -2)
sprite_frames = SubResource("SpriteFrames_amkaw")

[node name="StaticBody2D" type="StaticBody2D" parent="Radio"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Radio/StaticBody2D"]
position = Vector2(-75.5, 11)
shape = SubResource("RectangleShape2D_mv0lo")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Radio/StaticBody2D"]
position = Vector2(-75, 2)
shape = SubResource("CapsuleShape2D_p8yn1")

[node name="UI" type="CanvasLayer" parent="."]
visible = false

[node name="UI" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1

[node name="AnxietyBar" type="TextureProgressBar" parent="UI/UI"]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_top = 30.0
offset_bottom = 60.0
grow_horizontal = 2
nine_patch_stretch = true
texture_under = ExtResource("7_5p2nu")
texture_progress = ExtResource("7_pb6ad")
script = ExtResource("9_xhapp")

[node name="Label" type="Label" parent="UI/UI/AnxietyBar"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -45.0
offset_top = -25.0
offset_right = 45.0
offset_bottom = -2.0
grow_horizontal = 2
text = "Anxiety Bar"

[node name="Clock" type="Label" parent="UI/UI"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -40.0
offset_bottom = 23.0
grow_horizontal = 0
text = "ðŸ•’Time LeftðŸ•’: 30"
script = ExtResource("10_wims2")

[node name="God" type="Node" parent="."]
script = ExtResource("10_gu7p8")

[node name="GameTimer" type="Timer" parent="God"]
wait_time = 900.0
one_shot = true
autostart = true

[node name="GameTick" type="Timer" parent="God"]
autostart = true

[connection signal="timeout" from="God/GameTimer" to="God" method="_on_game_timer_timeout"]
[connection signal="timeout" from="God/GameTick" to="God" method="_on_game_tick_timeout"]
